// Dropdowns
.caret {
    width: @oui-button-dropdown-icon-size;
    height: @oui-button-dropdown-icon-size;
    line-height: @oui-button-dropdown-icon-size;
    display: inline-block;
    margin-left: 0;
    vertical-align: middle;
    color: @oui-button-dropdown-icon-color;
    font-size: @oui-button-dropdown-icon-size;
    border: none;

    &::before {
        #oui > .icon-normalize();
        #oui > .icon();
        #oui > .icon-type();

        content: @oui-icon-index-chevron-down;
        font-size: inherit;
        color: inherit;
    }

    .dropup &,
    .navbar-fixed-bottom .dropdown & {
        border: none;

        &::before { content: @oui-icon-index-chevron-up; }
    }
}

.dropdown-toggle {
    .oui-icon {
        width: @oui-button-dropdown-icon-size;
        height: @oui-button-dropdown-icon-size;
        line-height: @oui-button-dropdown-icon-size;
        color: @oui-button-dropdown-icon-color;
        font-size: @oui-button-dropdown-icon-size;
        vertical-align: middle;
    }

    &.btn-default {
        &:active,
        &:focus {
            box-shadow: 0 0 3px 1px rgba(0, 0, 0, 0.15);

            .caret,
            .oui-icon { color: @oui-button-dropdown-icon-color_active; }
        }

        &:disabled {
            .caret,
            .oui-icon { color: @oui-button-dropdown-icon-color_disabled; }
        }
    }

    .open > & {
        .caret,
        .oui-icon { transform: rotate(180deg); }
    }

    .open > &.btn-default {
        &,
        &.focus,
        &:focus,
        &:hover {
            border-color: @oui-button-dropdown-border-color_active;
            background: @oui-button-dropdown-background-color_active;
            box-shadow: inset 1px 1px 3px 0 transparent;
        }

        .caret,
        .oui-icon { color: @oui-button-dropdown-icon-color_active; }
    }
}

.dropdown-menu {
    margin: 0;
    min-width: 230px;
    padding: 0;

    li {
        position: relative;
        display: flex;
        padding: 0 0 @padding-small-vertical 0;
        align-items: center;
        color: @text-color;

        &:first-child,
        &.divider + li { padding-top: @padding-small-vertical; }

        &::before {
            content: " ";
            width: @grid-gutter-width;
            display: block;
            background-color: @oui-color-concrete;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            z-index: -1;
        }

        > i,
        > span {
            width: @grid-gutter-width;
            text-align: center;

            &.oui-icon {
                font-size: 13px;
                color: @text-color;
            }
        }

        > a,
        > buttonÂ {
            flex: 1;
            padding: 5px 20px 5px 5px;
            margin-left: @grid-gutter-width;
            width: 100%;
            color: @text-color;
            text-align: left;
            white-space: normal;
            text-decoration: none;
            font-size: @font-size-base;
            border-radius: 0;

            &:hover,
            &:focus,
            &:active {
                background-color: @component-active-bg;
                color: @component-active-color;
                text-decoration: none;

                small { color: inherit; }
            }
        }

        > i,
        > span {
            + a,
            + button { margin-left: 0; }
        }

        small {
            line-height: @line-height-small;
            display: inline-block;
            color: @oui-color-dusty;
            white-space: pre-wrap;
        }

        &.divider {
            height: 2px;
            margin: 0;
            padding: 0;
            border-top: 1px solid @oui-color-nurse;
            background: @dropdown-bg;
        }

        &.dropdown-divider {
            padding-top: @padding-small-vertical;
            border-top: 1px solid @oui-color-nurse;

            &::before { top: 1px; }
        }
    }
}
