// Dropdowns
.caret {
    width: @oui-button-dropdown-icon-size;
    height: @oui-button-dropdown-icon-size;
    line-height: @oui-button-dropdown-icon-size;
    display: inline-block;
    margin-left: 0;
    vertical-align: middle;
    color: @oui-button-dropdown-icon-color;
    font-size: @oui-button-dropdown-icon-size;
    border: none;

    &::before {
        #oui > .icon-normalize();
        #oui > .icon();
        #oui > .icon-type();

        content: @oui-icon-index-chevron-down;
        font-size: inherit;
        color: inherit;
    }

    .dropup &,
    .navbar-fixed-bottom .dropdown & {
        border: none;

        &::before { content: @oui-icon-index-chevron-up; }
    }
}

.dropdown-toggle {
    .oui-icon {
        width: @oui-button-dropdown-icon-size;
        height: @oui-button-dropdown-icon-size;
        line-height: @oui-button-dropdown-icon-size;
        margin: auto;
        text-align: center;
        color: @oui-button-dropdown-icon-color;
        font-size: @oui-button-dropdown-icon-size;
        vertical-align: middle;
        cursor: pointer;
        pointer-events: none;

        &::before {
            color: inherit;
            font-size: inherit;
        }
    }

    &.btn-default {
        &:active,
        &:focus {
            border-color: @oui-button-dropdown-border-color_active;
            background-color: @oui-button-dropdown-background-color_active;
        }
    }

    .open > &.btn-default {
        &,
        &.focus,
        &:focus,
        &:hover {
            border-color: @oui-button-dropdown-border-color_active;
            background-color: @oui-button-dropdown-background-color_active;
        }
    }
}

.dropdown-menu {
    #oui > .action-menu-base();

    max-width: @oui-dropdown-max-width;
    background-color: @oui-dropdown-background-color;
    border: @oui-dropdown-border-width @oui-dropdown-border-color solid;
    box-shadow: 0 4px 6px 0 @oui-dropdown-shadow-color;

    li {
        padding: 0;

        #oui > .dropdown-menu-link(a);
        #oui > .dropdown-menu-link(button);

        .oui-icon {
            padding: 0 rem-calc(5);
            font-size: rem-calc(12);
            color: inherit;
        }

        &.divider {
            #oui > .action-menu-item-divider-base();
        }

        &.dropdown-divider {
            padding-top: rem-calc(4);
            border-top: 1px solid @oui-action-menu-divider-color;
        }

        & + .dropdown-divider { margin-top: rem-calc(4); }

        // Legacy (deprecated)
        small,
        > .fa,
        > .oui-icon,
        > .ovh-font { display: none; }
    }
}

// Mixins
#oui {
    .dropdown-menu-link(
        @link-selector
    ) {
        > @{link-selector} {
            #oui > .button-normalize();
            #oui > .button-base();
            #oui > .button-action-menu();

            &:hover,
            &:focus,
            &:active {
                background-color: @oui-action-menu-item-active-background-color;
                color: @oui-action-menu-item-active-text-color;
            }
        }

        > @{link-selector}:disabled,
        &.disabled > @{link-selector} {
            color: @oui-color-dusty;

            &:hover {
                color: @oui-color-dusty;
                background-color: @oui-color-foam;
            }
        }
    }
}
