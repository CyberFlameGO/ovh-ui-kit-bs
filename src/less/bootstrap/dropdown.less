// Dropdowns
.caret {
  width: @oui-button-dropdown-icon-size;
  height: @oui-button-font-size;
  line-height: @oui-button-dropdown-icon-size;
  position: relative;
  display: inline-block;
  margin-left: 0;
  vertical-align: bottom;
  color: @oui-button-font-color;
  font-size: @oui-button-dropdown-icon-size;
  border: none;

  &::before {
    #oui > .icon-replacer-helper(
      @icon-path: @oui-icon-path-chevron-down,
      @icon-color: @oui-button-font-color,
      @icon-size: @oui-button-dropdown-icon-size
    );

    position: absolute;
    top: 50%;
    transform: translateY(-50%);

    .navbar.navbar-inverse & {
      #oui > .icon-replacer-helper(
        @icon-path: @oui-icon-path-chevron-down,
        @icon-color: #9d9d9d,
        @icon-size: @oui-button-dropdown-icon-size
      );
    }
  }

  .dropup &,
  .navbar-fixed-bottom .dropdown & {
    border: none;

    &::before {
      transform: scaleY(-1) translateY(50%);
    }
  }

  // Variants
  .btn-default &::before {
    #oui > .icon-replacer-helper(
      @icon-path: @oui-icon-path-chevron-down,
      @icon-color: @oui-button-secondary-icon-color,
      @icon-size: @oui-button-dropdown-icon-size
    );
  }

  .btn-primary &::before {
    #oui > .icon-replacer-helper(
      @icon-path: @oui-icon-path-chevron-down,
      @icon-color: @oui-button-primary-icon-color,
      @icon-size: @oui-button-dropdown-icon-size
    );
  }

  .btn-success &::before {
    #oui > .icon-replacer-helper(
      @icon-path: @oui-icon-path-chevron-down,
      @icon-color: @btn-success-color,
      @icon-size: @oui-button-dropdown-icon-size
    );
  }

  .btn-warning &::before {
    #oui > .icon-replacer-helper(
      @icon-path: @oui-icon-path-chevron-down,
      @icon-color: @btn-warning-color,
      @icon-size: @oui-button-dropdown-icon-size
    );
  }

  .btn-danger &::before {
    #oui > .icon-replacer-helper(
      @icon-path: @oui-icon-path-chevron-down,
      @icon-color: @btn-danger-color,
      @icon-size: @oui-button-dropdown-icon-size
    );
  }

  .btn-link &::before {
    #oui > .icon-replacer-helper(
      @icon-path: @oui-icon-path-chevron-down,
      @icon-color: @oui-button-link-icon-color,
      @icon-size: @oui-button-dropdown-icon-size
    );
  }
}

.dropdown-toggle {
  position: relative;
  padding-right: @oui-button-dropdown-padding-right;

  .caret {
    height: auto;
    position: absolute;
    margin-right: @oui-button-dropdown-margin-right;
    right: 0;
    top: 0;
    bottom: 0;
  }

  .oui-icon {
    width: @oui-button-dropdown-icon-size;
    height: @oui-button-dropdown-icon-size;
    line-height: @oui-button-dropdown-icon-size;
    margin: auto;
    text-align: center;
    color: inherit;
    font-size: @oui-button-dropdown-icon-size;
    vertical-align: middle;
    cursor: pointer;
    pointer-events: none;
  }

  .caret,
  .oui-icon {
    margin-left: @oui-button-dropdown-padding-x;

    .btn-group &,
    .input-group & { margin-left: 0; }
  }

  &.btn-default {
    &:active,
    &:focus {
      border-color: @oui-button-dropdown-border-color_active;
      background-color: @oui-button-dropdown-background-color_active;
    }
  }

  .open > &.btn-default {
    &,
    &.focus,
    &:focus,
    &:hover {
      border-color: @oui-button-dropdown-border-color_active;
      background-color: @oui-button-dropdown-background-color_active;
    }
  }
}

.dropdown-menu {
  min-width: @oui-dropdown-menu-min-width;
  max-width: @oui-dropdown-menu-max-width;
  display: none;
  padding: 0;
  margin: @oui-dropdown-menu-margin;
  position: absolute;
  list-style: none;
  text-align: initial;
  box-shadow: @oui-dropdown-menu-box-shadow;
  border: @oui-dropdown-menu-border-width @oui-dropdown-menu-border-color solid;
  border-radius: @oui-dropdown-menu-border-radius;
  background-color: @oui-dropdown-menu-background-color;
  z-index: @oui-dropdown-menu-z-index;

  li {
    padding: 0;

    a,
    button {
      #oui > .text-ellipsis();

      width: 100%;
      line-height: @oui-dropdown-item-line-height;
      display: block;
      padding: @oui-dropdown-item-padding;
      text-align: left;
      font-size: @oui-dropdown-item-font-size;
      font-weight: @oui-dropdown-item-font-weight;
      color: @oui-dropdown-item-font-color;
      border: none;
      background-color: @oui-dropdown-item-background-color;

      &,
      &:focus,
      &:hover {
        #oui > .animate();

        text-decoration: none;
      }

      &:focus {
        outline-width: 1px;
        outline-style: dotted;
        outline-color: initial;
        outline-offset: -2px;
      }

      &:hover,
      &:focus {
        background-color: @oui-dropdown-item-background-color_active;
        color: @oui-dropdown-item-font-color_active;
      }

      &:disabled {
        color: @oui-dropdown-item-font-color;
        background-color: @oui-dropdown-item-background-color;
        opacity: 0.5;
        cursor: not-allowed;
      }

      .oui-icon {
        padding: 0 5px;
        font-size: 12px;
        color: inherit;
      }
    }

    &.disabled > a,
    &.disabled > button {
      &,
      &:hover,
      &:focus {
        color: @oui-dropdown-item-font-color;
        background-color: @oui-dropdown-item-background-color;
        opacity: 0.5;
        cursor: not-allowed;
      }
    }

    &:first-child a,
    &:first-child button {
      border-top-left-radius: @oui-dropdown-menu-border-radius;
      border-top-right-radius: @oui-dropdown-menu-border-radius;
    }

    &:last-child a,
    &:last-child button {
      border-bottom-left-radius: @oui-dropdown-menu-border-radius;
      border-bottom-right-radius: @oui-dropdown-menu-border-radius;
    }

    &.divider {
      height: @oui-dropdown-divider-height;
      margin: @oui-dropdown-divider-margin;
      display: block;
      background-color: @oui-dropdown-divider-color;
    }

    &.dropdown-divider {
      border-top: 1px solid @oui-dropdown-divider-color;
    }
  }
}
